(this["webpackJsonpweather-forecast"]=this["webpackJsonpweather-forecast"]||[]).push([[0],[,,,function(e,t,a){e.exports={skCircle:"Spinner_skCircle__1V_Ob",skChild:"Spinner_skChild__1kzNb","sk-circleBounceDelay":"Spinner_sk-circleBounceDelay__2MK3f",skCircle2:"Spinner_skCircle2__3TSO3",skCircle3:"Spinner_skCircle3__1Y-Pm",skCircle4:"Spinner_skCircle4__V6YlH",skCircle5:"Spinner_skCircle5__APAc5",skCircle6:"Spinner_skCircle6__3fmcA",skCircle7:"Spinner_skCircle7__34I1K",skCircle8:"Spinner_skCircle8__2ZoIw",skCircle9:"Spinner_skCircle9__2fvi1",skCircle10:"Spinner_skCircle10__33sn4",skCircle11:"Spinner_skCircle11__gyrLH",skCircle12:"Spinner_skCircle12__2GSD6"}},,function(e,t,a){e.exports={WeatherDetail:"WeatherDetail_WeatherDetail__3xf8s",Date:"WeatherDetail_Date__1Sm_c",TimeIcon:"WeatherDetail_TimeIcon__2yMsK",WeatherIcon:"WeatherDetail_WeatherIcon__2yr1S",Time:"WeatherDetail_Time__3uXEu",Temp:"WeatherDetail_Temp__37iQQ",Clear:"WeatherDetail_Clear__3SukF",Rain:"WeatherDetail_Rain__eDmO2",Hot:"WeatherDetail_Hot__3PzRC",Night:"WeatherDetail_Night__3g44e",Description:"WeatherDetail_Description__nKc6U",Humidity:"WeatherDetail_Humidity__3VZ4x",HumidityIcon:"WeatherDetail_HumidityIcon__2A94d",WindSpeed:"WeatherDetail_WindSpeed__WvUjB",WindSpeedIcon:"WeatherDetail_WindSpeedIcon__BDP9s",WindDir:"WeatherDetail_WindDir__3wVwI",WindDirIcon:"WeatherDetail_WindDirIcon__ERsQn",Pressure:"WeatherDetail_Pressure__wpWnI",PressureIcon:"WeatherDetail_PressureIcon__1pm_W"}},,,,,,,,,,function(e,t,a){e.exports={WeatherItem:"WeatherItem_WeatherItem__1985L",Clear:"WeatherItem_Clear__FBrMw",Rain:"WeatherItem_Rain__7Vj0W",Hot:"WeatherItem_Hot__3HAHH",Description:"WeatherItem_Description__kbwuf"}},,,,,,,,,,function(e,t,a){e.exports={HamburgerIcon:"HamburgerIcon_HamburgerIcon__1Sge8",Span:"HamburgerIcon_Span__23thq",Open:"HamburgerIcon_Open__3Wsup"}},,,function(e,t,a){e.exports={NavItem:"NavItem_NavItem__14B8J",active:"NavItem_active__22iVt"}},,,function(e,t,a){e.exports={Sidedrawer:"Sidedrawer_Sidedrawer__2O7oX",Open:"Sidedrawer_Open__2rbG9"}},,,,,,,function(e,t,a){e.exports={Layout:"Layout_Layout__3jtgJ"}},function(e,t,a){e.exports={Toolbar:"Toolbar_Toolbar__VHyTD"}},function(e,t,a){e.exports={NavItems:"NavItems_NavItems__2f8j8"}},function(e,t,a){e.exports={Searchbar:"Searchbar_Searchbar__1AJcy"}},function(e,t,a){e.exports={LangSelect:"LangSelect_LangSelect__3x-Q3"}},function(e,t,a){e.exports={Backdrop:"Backdrop_Backdrop__2Vk0F"}},function(e,t,a){e.exports={WeatherItems:"WeatherItems_WeatherItems__1u4-G"}},function(e,t,a){e.exports={CurrentWeather:"CurrentWeather_CurrentWeather__1ClTJ"}},function(e,t,a){},function(e,t,a){e.exports=a(60)},,,,,,,,,function(e,t,a){},function(e,t,a){},function(e,t,a){},,function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(18),i=a.n(c),l=a(11),o=a(12),u=a(6),s=a(36),m=(a(56),a(57),a(58),a(20)),d=a(21),h=a(24),p=a(22),g=a(4),f=a(37),_="db22667d97bca1b4a8271f34ca5806dc",E=function(e){var t,a={},n=Object(f.a)(e.list);try{for(n.s();!(t=n.n()).done;){var r=t.value,c=new Date(r.dt_txt).setHours(0,0,0).toString();a[c]||(a[c]=[]),a[c].push(r)}}catch(i){n.e(i)}finally{n.f()}return a},y=function(e,t){var a="";switch(e.toString()){case"0":a="en"===t?"Sunday":"\u041d\u0435\u0434\u0435\u043b\u044f";break;case"1":a="en"===t?"Monday":"\u041f\u043e\u043d\u0435\u0434\u0435\u043b\u043d\u0438\u043a";break;case"2":a="en"===t?"Tuesday":"\u0412\u0442\u043e\u0440\u043d\u0438\u043a";break;case"3":a="en"===t?"Wednesday":"\u0421\u0440\u044f\u0434\u0430";break;case"4":a="en"===t?"Thursday":"\u0427\u0435\u0442\u0432\u044a\u0440\u0442\u044a\u043a";break;case"5":a="en"===t?"Friday":"\u041f\u0435\u0442\u044a\u043a";break;case"6":a="en"===t?"Saturday":"\u0421\u044a\u0431\u043e\u0442\u0430";break;default:return null}return a},v=function(e){return 0===e.getHours()?12:e.getHours()>12?e.getHours()-12:e.getHours()},b=function(e,t,a){return"bg"===e?t:a},C=function(e,t){return{type:"SET_CITY_AND_COUNTRY",city:e,country:t}},O=function(e){return{type:"FETCH_WEATHER_FAIL",error:e}},S=function(e){return function(t){(function(){if("geolocation"in navigator)return new Promise((function(e,t){window.navigator.geolocation.getCurrentPosition((function(t){return e(t)}),(function(e){return t(e)}))}))})().then((function(a){t({type:"LOADING_START"}),t({type:"SEARCHING_END"});var n=a.coords,r=n.latitude,c=n.longitude;fetch("https://api.openweathermap.org/data/2.5/forecast?lat=".concat(r,"&lon=").concat(c,"&lang=").concat(e,"&appid=").concat(_,"&units=metric")).then((function(e){return e.json()})).then((function(e){t(C(e.city.name,e.city.country));var a=E(e);t(function(e){return{type:"FETCH_WEATHER",data:e}}(a))})).catch((function(e){return t(O(e))})).finally((function(){return t({type:"LOADING_END"})}))})).catch((function(e){return t(O(e))}))}},D=function(e,t){return function(a){a({type:"LOADING_START"}),a({type:"SEARCHING_START"}),fetch("https://api.openweathermap.org/data/2.5/forecast?q=".concat(e,"&lang=").concat(t,"&appid=").concat(_,"&units=metric")).then((function(e){return e.json()})).then((function(e){a(C(e.city.name,e.city.country));var t=E(e);a(function(e){return{type:"FETCH_SEARCH_SUCCESS",data:e}}(t))})).catch((function(e){return a(O(e))})).finally((function(){return a({type:"LOADING_END"})}))}},N=a(23),k=a(38),w=a.n(k),R=a(39),W=a.n(R),j=a(40),I=a.n(j),T=a(28),H=a.n(T),M=function(e){return r.a.createElement("li",null,r.a.createElement(l.b,{exact:e.exact,activeClassName:H.a.active,className:H.a.NavItem,to:e.to,onClick:e.closeMenu},e.children))},A=a(41),L=a.n(A),x=Object(u.b)((function(e){return{language:e.generalReducer.language}}),(function(e){return{sendSearch:function(t,a){return e(D(t,a))}}}))((function(e){var t=Object(n.useState)(""),a=Object(N.a)(t,2),c=a[0],i=a[1];return r.a.createElement("form",{className:L.a.Searchbar,onSubmit:function(t){t.preventDefault(),c.trim()&&(e.sendSearch(c,e.language),i(""))}},r.a.createElement("label",{htmlFor:"search"}),r.a.createElement("input",{type:"text",name:"search",id:"search",placeholder:b(e.language,"\u0422\u044a\u0440\u0441\u0438 \u043f\u043e \u0438\u043c\u0435 \u043d\u0430 \u0433\u0440\u0430\u0434","Search by city name"),autoComplete:"off",value:c,onChange:function(e){return i(e.target.value)}}))})),F=Object(u.b)((function(e){return{language:e.generalReducer.language,city:e.generalReducer.city,country:e.generalReducer.country}}))((function(e){var t=e.language,a=e.city,n=e.country,c=e.closeMenu,i=null;return a&&n&&(i=r.a.createElement(r.a.Fragment,null,r.a.createElement(M,{exact:!0,to:"/",closeMenu:c},b(t,"\u0421\u0435\u0434\u043c\u0438\u0447\u043d\u0430 \u043f\u0440\u043e\u0433\u043d\u043e\u0437\u0430","Weekly forecast")),r.a.createElement(M,{to:"/current-weather",closeMenu:c},b(t,"\u0412\u0440\u0435\u043c\u0435\u0442\u043e \u0432 \u043c\u043e\u043c\u0435\u043d\u0442\u0430","Current forecast")))),r.a.createElement("ul",{className:I.a.NavItems},i,r.a.createElement(x,null))})),G=a(42),P=a.n(G);function z(){return(z=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}function V(e,t){if(null==e)return{};var a,n,r=function(e,t){if(null==e)return{};var a,n,r={},c=Object.keys(e);for(n=0;n<c.length;n++)a=c[n],t.indexOf(a)>=0||(r[a]=e[a]);return r}(e,t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(n=0;n<c.length;n++)a=c[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}var B=r.a.createElement("g",{fillRule:"evenodd",strokeWidth:"1pt"},r.a.createElement("path",{fill:"#d62612",d:"M0 320h640v160H0z"}),r.a.createElement("path",{fill:"#fff",d:"M0 0h640v160H0z"}),r.a.createElement("path",{fill:"#00966e",d:"M0 160h640v160H0z"})),U=function(e){var t=e.svgRef,a=e.title,n=V(e,["svgRef","title"]);return r.a.createElement("svg",z({id:"flag-icon-css-bg",viewBox:"0 0 640 480",ref:t},n),a?r.a.createElement("title",null,a):null,B)},J=r.a.forwardRef((function(e,t){return r.a.createElement(U,z({svgRef:t},e))}));a.p;function Y(){return(Y=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}function K(e,t){if(null==e)return{};var a,n,r=function(e,t){if(null==e)return{};var a,n,r={},c=Object.keys(e);for(n=0;n<c.length;n++)a=c[n],t.indexOf(a)>=0||(r[a]=e[a]);return r}(e,t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(n=0;n<c.length;n++)a=c[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}var Q=r.a.createElement("path",{fill:"#012169",d:"M0 0h640v480H0z"}),X=r.a.createElement("path",{fill:"#FFF",d:"M75 0l244 181L562 0h78v62L400 241l240 178v61h-80L320 301 81 480H0v-60l239-178L0 64V0h75z"}),q=r.a.createElement("path",{fill:"#C8102E",d:"M424 281l216 159v40L369 281h55zm-184 20l6 35L54 480H0l240-179zM640 0v3L391 191l2-44L590 0h50zM0 0l239 176h-60L0 42V0z"}),Z=r.a.createElement("path",{fill:"#FFF",d:"M241 0v480h160V0H241zM0 160v160h640V160H0z"}),$=r.a.createElement("path",{fill:"#C8102E",d:"M0 193v96h640v-96H0zM273 0v480h96V0h-96z"}),ee=function(e){var t=e.svgRef,a=e.title,n=K(e,["svgRef","title"]);return r.a.createElement("svg",Y({id:"flag-icon-css-gb",viewBox:"0 0 640 480",ref:t},n),a?r.a.createElement("title",null,a):null,Q,X,q,Z,$)},te=r.a.forwardRef((function(e,t){return r.a.createElement(ee,Y({svgRef:t},e))})),ae=(a.p,Object(u.b)((function(e){return{prevLang:e.generalReducer.language,city:e.generalReducer.city,country:e.generalReducer.country,isSearching:e.generalReducer.isSearching}}),(function(e){return{changeLang:function(t){return e({type:"SET_LANGUAGE",language:t})},fetchGeolocationData:function(t){return e(S(t))},fetchSearchData:function(t,a){return e(D(t,a))}}}))((function(e){var t=function(t){var a=t.currentTarget.dataset.lang;e.prevLang!==a&&(e.changeLang(a),(e.city||e.country)&&(e.isSearching?e.fetchSearchData(e.city,a):e.fetchGeolocationData(a)))};return r.a.createElement("div",{className:P.a.LangSelect},r.a.createElement("button",{"data-lang":"en",onClick:t},r.a.createElement(te,null)),r.a.createElement("button",{"data-lang":"bg",onClick:t},r.a.createElement(J,null)))}))),ne=a(25),re=a.n(ne),ce=function(e){var t=[re.a.HamburgerIcon];return e.isMenuOpen&&t.push(re.a.Open),r.a.createElement("button",{onClick:e.toggleMenu,className:t.join(" ")},r.a.createElement("span",{className:re.a.Span}))},ie=Object(u.b)((function(e){return{city:e.generalReducer.city,country:e.generalReducer.country}}))((function(e){return r.a.createElement("header",{className:W.a.Toolbar},r.a.createElement(ce,{toggleMenu:e.toggleMenu,isMenuOpen:e.isMenuOpen}),r.a.createElement("h1",null,e.city,r.a.createElement("span",null,e.country)),r.a.createElement(F,null),r.a.createElement(ae,null))})),le=a(31),oe=a.n(le),ue=function(e){var t=[oe.a.Sidedrawer];return e.isMenuOpen&&t.push(oe.a.Open),r.a.createElement("nav",{className:t.join(" ")},e.children)},se=a(43),me=a.n(se),de=function(e){var t=null;return e.isMenuOpen&&(t=r.a.createElement("div",{className:me.a.Backdrop,onClick:e.clickHandler})),t},he=function(e){var t=Object(n.useState)(!1),a=Object(N.a)(t,2),c=a[0],i=a[1];return r.a.createElement(r.a.Fragment,null,r.a.createElement(de,{isMenuOpen:c,clickHandler:function(){return i((function(e){return!e}))}}),r.a.createElement(ue,{isMenuOpen:c},r.a.createElement(F,{closeMenu:function(){return i(!1)}})),r.a.createElement(ie,{toggleMenu:function(){return i((function(e){return!e}))},isMenuOpen:c}),r.a.createElement("main",{className:w.a.Layout},e.children))},pe=a(32),ge=a(44),fe=a.n(ge),_e=a(15),Ee=a.n(_e),ye=Object(g.g)((function(e){var t=e.id,a=e.minTemp,n=e.maxTemp,c=e.weekday,i=e.language,l=e.date,o=e.iconId,u=e.description,s=e.main,m=(e.daytime,e.history),d=[Ee.a.WeatherItem];return s.includes("Clear")&&(n>29?d.push(Ee.a.Hot):d.push(Ee.a.Clear)),["Rain","Thunderstorm","Drizzle"].includes(s)&&d.push(Ee.a.Rain),r.a.createElement("div",{className:d.join(" "),onClick:function(){return m.push("/item/".concat(t))}},r.a.createElement("h4",null,c),r.a.createElement("p",null,l),r.a.createElement("i",{className:"wi wi-owm-day-".concat(o)}),r.a.createElement("p",null,b(i,"\u043c\u0438\u043d / \u043c\u0430\u043a\u0441","min / max")),r.a.createElement("p",null,Math.round(a)," \xb0C | ",Math.round(n)," \xb0C"),r.a.createElement("p",{className:Ee.a.Description},u))})),ve=a(3),be=a.n(ve),Ce=function(){return r.a.createElement("div",{className:be.a.skCircle},r.a.createElement("div",{className:"".concat(be.a.skCircle1," ").concat(be.a.skChild)}),r.a.createElement("div",{className:"".concat(be.a.skCircle2," ").concat(be.a.skChild)}),r.a.createElement("div",{className:"".concat(be.a.skCircle3," ").concat(be.a.skChild)}),r.a.createElement("div",{className:"".concat(be.a.skCircle4," ").concat(be.a.skChild)}),r.a.createElement("div",{className:"".concat(be.a.skCircle5," ").concat(be.a.skChild)}),r.a.createElement("div",{className:"".concat(be.a.skCircle6," ").concat(be.a.skChild)}),r.a.createElement("div",{className:"".concat(be.a.skCircle7," ").concat(be.a.skChild)}),r.a.createElement("div",{className:"".concat(be.a.skCircle8," ").concat(be.a.skChild)}),r.a.createElement("div",{className:"".concat(be.a.skCircle9," ").concat(be.a.skChild)}),r.a.createElement("div",{className:"".concat(be.a.skCircle10," ").concat(be.a.skChild)}),r.a.createElement("div",{className:"".concat(be.a.skCircle11," ").concat(be.a.skChild)}),r.a.createElement("div",{className:"".concat(be.a.skCircle12," ").concat(be.a.skChild)}))},Oe=Object(u.b)((function(e){return{geolocationData:e.geolocationReducer.data,searchData:e.searchReducer.data,loading:e.generalReducer.loading,error:e.generalReducer.error,isSearching:e.generalReducer.isSearching,language:e.generalReducer.language}}))((function(e){var t=e.geolocationData;e.isSearching&&(t=e.searchData);var a,n=[];for(var c in t){var i=t[c].map((function(e){return e.main.temp})),l=Math.min.apply(Math,Object(pe.a)(i)),o=Math.max.apply(Math,Object(pe.a)(i)),u=new Date(+c),s=u.toLocaleDateString(),m=y(u.getDay(),e.language),d=t[c][0].weather[0],h=d.id,p=d.description,g=d.main,f=d.icon;n.push(r.a.createElement(ye,{key:c,id:c,minTemp:l,maxTemp:o,weekday:m,language:e.language,date:s,iconId:h,description:p,main:g,daytime:f}))}return a=e.loading?r.a.createElement(Ce,null):n,r.a.createElement("div",{className:fe.a.WeatherItems},a)})),Se=a(45),De=a.n(Se),Ne=a(5),ke=a.n(Ne),we=function(e){var t=e.currentDate,a=e.description,n=e.humidity,c=e.iconId,i=e.pressure,l=e.temp,o=e.windDeg,u=e.windSpeed,s=e.language,m=e.main,d=e.daytime,h=t?new Date(t):new Date,p=h.toLocaleDateString(),g=function(e){var t=e.getHours(),a=e.getMinutes();return t<10&&(t="0"+t),a<10&&(a="0"+a),t+":"+a}(h),f="n"===d.slice(-1),_=[ke.a.WeatherIcon];return m.includes("Clear")&&(l>29?_.push(ke.a.Hot):_.push(ke.a.Clear)),["Rain","Thunderstorm","Drizzle"].includes(m)&&_.push(ke.a.Rain),f&&_.push(ke.a.Night),r.a.createElement("div",{className:ke.a.WeatherDetail},r.a.createElement("p",{className:ke.a.Date},p),r.a.createElement("div",{className:ke.a.TimeIcon},r.a.createElement("i",{className:"wi wi-time-".concat(v(h))})),r.a.createElement("div",{className:_.join(" ")},r.a.createElement("i",{className:"wi wi-owm-".concat(f?"night":"day","-").concat(c)})),r.a.createElement("p",{className:ke.a.Time},g),r.a.createElement("p",{className:ke.a.Temp},Math.round(l)," \xb0C"),r.a.createElement("p",{className:ke.a.Description},a),r.a.createElement("p",{className:ke.a.Humidity},b(s,"\u0412\u043b\u0430\u0436\u043d\u043e\u0441\u0442","Humidity")),r.a.createElement("div",{className:ke.a.HumidityIcon},r.a.createElement("i",{className:"wi wi-humidity"}),r.a.createElement("span",null,n)),r.a.createElement("p",{className:ke.a.WindSpeed},b(s,"\u0421\u043a\u043e\u0440\u043e\u0441\u0442 \u043d\u0430 \u0412\u044f\u0442\u044a\u0440\u0430","Wind speed")),r.a.createElement("div",{className:ke.a.WindSpeedIcon},r.a.createElement("i",{className:"wi wi-wind-beaufort-".concat(Math.round(u))}),r.a.createElement("span",null,u.toFixed(1)," ",b(s,"\u043c/\u0441","m/s"))),r.a.createElement("p",{className:ke.a.WindDir},b(s,"\u041f\u043e\u0441\u043e\u043a\u0430 \u043d\u0430 \u0432\u044f\u0442\u044a\u0440\u0430","Wind direction")),r.a.createElement("div",{className:ke.a.WindDirIcon},r.a.createElement("i",{className:"wi wi-wind towards-".concat(o,"-deg")}),r.a.createElement("span",null,function(e,t){var a={en:["North","North-East","East","South-East","South","South-West","West","North-West"],bg:["\u0421\u0435\u0432\u0435\u0440","\u0421\u0435\u0432\u0435\u0440\u043e\u0438\u0437\u0442\u043e\u043a","\u0418\u0437\u0442\u043e\u043a","\u042e\u0433\u043e\u0438\u0437\u0442\u043e\u043a","\u042e\u0433","\u042e\u0433\u043e\u0437\u0430\u043f\u0430\u0434","\u0417\u0430\u043f\u0430\u0434","\u0421\u0435\u0432\u0435\u0440\u043e\u0437\u0430\u043f\u0430\u0434"]},n=Math.round(((e%=360)<0?e+360:e)/45)%8;return"bg"===t?a.bg[n]:a.en[n]}(o,s))),r.a.createElement("p",{className:ke.a.Pressure},b(s,"\u041d\u0430\u043b\u044f\u0433\u0430\u043d\u0435","Pressure")),r.a.createElement("div",{className:ke.a.PressureIcon},r.a.createElement("i",{className:"wi wi-barometer"}),r.a.createElement("span",null,i," hPa")))},Re=function(e){Object(h.a)(a,e);var t=Object(p.a)(a);function a(){return Object(m.a)(this,a),t.apply(this,arguments)}return Object(d.a)(a,[{key:"componentDidMount",value:function(){var e=this.props,t=e.fetchCurrentData,a=e.language,n=e.city,r=e.country;n?t(n,r,a):this.props.history.replace("/")}},{key:"componentDidUpdate",value:function(e){var t=this.props,a=t.fetchCurrentData,n=t.language,r=t.city,c=t.country;r||this.props.history.replace("/"),(e.language!==this.props.language||e.city!==this.props.city&&e.country!==this.props.country)&&a(r,c,n)}},{key:"render",value:function(){var e=this.props.data,t="";if(this.props.loading&&(t=r.a.createElement(Ce,null)),!this.props.loading&&e.weather){var a=e.weather[0],n=a.description,c=a.id,i=a.main,l=a.icon,o=e.main,u=o.temp,s=o.humidity,m=o.pressure,d=e.wind,h=d.speed,p=d.deg;t=r.a.createElement(we,{description:n,iconId:c,temp:u,humidity:s,pressure:m,windSpeed:h,windDeg:p,language:this.props.language,main:i,daytime:l})}return r.a.createElement("div",{className:De.a.CurrentWeather},t)}}]),a}(n.Component),We=Object(u.b)((function(e){return{data:e.currentWeatherReducer.data,language:e.generalReducer.language,city:e.generalReducer.city,country:e.generalReducer.country,loading:e.generalReducer.loading}}),(function(e){return{fetchCurrentData:function(t,a,n){return e(function(e,t,a){return function(n){n({type:"LOADING_START"}),fetch("https://api.openweathermap.org/data/2.5/weather?q=".concat(e,",").concat(t,"&lang=").concat(a,"&appid=").concat(_,"&units=metric")).then((function(e){return e.json()})).then((function(e){n({type:"FETCH_CURRENT_WEATHER",data:e})})).catch((function(e){return n(O(e))})).finally((function(){return n({type:"LOADING_END"})}))}}(t,a,n))}}}))(Re),je=a(46),Ie=a.n(je),Te=Object(u.b)((function(e){return{language:e.generalReducer.language,isSearching:e.generalReducer.isSearching,geolocationData:e.geolocationReducer.data,searchData:e.searchReducer.data}}))((function(e){Object(n.useEffect)((function(){window.scrollTo(0,0)}),[]);var t=[],a=e.match.params.id,c=null;return c=(t=e.isSearching?e.searchData[a]:e.geolocationData[a])&&0!==t.length?t.map((function(t){var a=t.dt_txt,n=t.weather[0],c=n.description,i=n.id,l=n.main,o=n.icon,u=t.main,s=u.temp,m=u.humidity,d=u.pressure,h=t.wind,p=h.speed,g=h.deg;return r.a.createElement(we,{key:a,currentDate:a,description:c,iconId:i,temp:s,humidity:m,pressure:d,windSpeed:p,windDeg:g,language:e.language,main:l,daytime:o})})):r.a.createElement(g.a,{to:"/"}),r.a.createElement("div",{className:Ie.a.WeatherDetails},c)})),He=function(e){Object(h.a)(a,e);var t=Object(p.a)(a);function a(){return Object(m.a)(this,a),t.apply(this,arguments)}return Object(d.a)(a,[{key:"componentDidMount",value:function(){this.props.fetchGeolocationData(this.props.language)}},{key:"render",value:function(){var e=this.props,t=e.country,a=e.city,n=e.error,c=e.language,i=null;n&&(console.log(n),console.log(n.message)),n&&"User denied Geolocation"===n.message&&(i=r.a.createElement("h1",null,b(c,"\u041c\u043e\u043b\u044f \u0438\u0437\u043f\u043e\u043b\u0437\u0432\u0430\u0439\u0442\u0435 \u0442\u044a\u0440\u0441\u0430\u0447\u043a\u0430\u0442\u0430 \u0438\u043b\u0438 \u043f\u043e\u0437\u0432\u043e\u043b\u0435\u0442\u0435 \u0433\u0435\u043e\u043b\u043e\u043a\u0430\u0446\u0438\u044f \u0432 \u0431\u0440\u0430\u0443\u0437\u044a\u0440\u0430!","Please use the search functionality or enable geolocation in the browser!")));var l=r.a.createElement(r.a.Fragment,null,r.a.createElement(g.b,{path:"/item/:id",component:Te}),r.a.createElement(g.b,{path:"/current-weather",component:We}),r.a.createElement(g.b,{path:"/",exact:!0,component:Oe}),r.a.createElement(g.a,{to:"/"}));return t&&a||(l=r.a.createElement(r.a.Fragment,null,r.a.createElement(g.b,{path:"/",exact:!0,component:Oe}),r.a.createElement(g.a,{to:"/"}))),r.a.createElement(he,null,i,r.a.createElement(g.d,null,l))}}]),a}(n.Component),Me=Object(u.b)((function(e){return{loading:e.generalReducer.loading,isSearching:e.generalReducer.isSearching,language:e.generalReducer.language,error:e.generalReducer.error,city:e.generalReducer.city,country:e.generalReducer.country}}),(function(e){return{fetchGeolocationData:function(t){return e(S(t))}}}))(He),Ae=a(2),Le={data:{}},xe=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Le,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"FETCH_WEATHER":return Object(Ae.a)(Object(Ae.a)({},e),{},{data:Object(Ae.a)({},t.data)});default:return e}},Fe={city:"",country:"",language:"en",loading:!1,error:null,isSearching:!1},Ge=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Fe,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"FETCH_WEATHER_FAIL":return Object(Ae.a)(Object(Ae.a)({},e),{},{error:t.error});case"LOADING_START":return Object(Ae.a)(Object(Ae.a)({},e),{},{loading:!0,error:null});case"LOADING_END":return Object(Ae.a)(Object(Ae.a)({},e),{},{loading:!1});case"SET_CITY_AND_COUNTRY":return Object(Ae.a)(Object(Ae.a)({},e),{},{city:t.city,country:t.country});case"SEARCHING_START":return Object(Ae.a)(Object(Ae.a)({},e),{},{isSearching:!0});case"SEARCHING_END":return Object(Ae.a)(Object(Ae.a)({},e),{},{isSearching:!1});case"SET_LANGUAGE":return Object(Ae.a)(Object(Ae.a)({},e),{},{language:t.language});default:return e}},Pe={data:{}},ze=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Pe,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"FETCH_SEARCH_SUCCESS":return Object(Ae.a)(Object(Ae.a)({},e),{},{data:Object(Ae.a)({},t.data)});default:return e}},Ve={data:{}},Be=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ve,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"FETCH_CURRENT_WEATHER":return Object(Ae.a)(Object(Ae.a)({},e),{},{data:Object(Ae.a)({},t.data)});default:return e}},Ue=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||o.d,Je=Object(o.c)({geolocationReducer:xe,generalReducer:Ge,searchReducer:ze,currentWeatherReducer:Be}),Ye=Object(o.e)(Je,Ue(Object(o.a)(s.a)));i.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(u.a,{store:Ye},r.a.createElement(l.a,null,r.a.createElement(Me,null)))),document.getElementById("root"))}],[[47,1,2]]]);
//# sourceMappingURL=main.1257309b.chunk.js.map